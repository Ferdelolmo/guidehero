import { Observable } from '@grafana/faro-core';
import type { HttpRequestEndMessage, HttpRequestStartMessage } from './monitors/types';
type OperationKey = string;
export declare function isRequestStartMessage(msg: any): msg is HttpRequestStartMessage;
export declare function isRequestEndMessage(msg: any): msg is HttpRequestEndMessage;
export interface ActivityWindowTrackerOptions<TMsg = any> {
    inactivityMs?: number;
    drainTimeoutMs?: number;
    isOperationStart?: (msg: TMsg) => OperationKey | undefined;
    isOperationEnd?: (msg: TMsg) => OperationKey | undefined;
}
/**
 * Tracks events in a timeâ€‘boxed activity window. When the window goes quiet for `inactivityMs`,
 * it enters a draining phase: new short events are ignored; only active operations are awaited
 * until they end or `drainTimeoutMs` elapses.
 */
export declare class ActivityWindowTracker extends Observable {
    eventsObservable: Observable;
    private _tracking;
    private _inactivityTid?;
    private _drainTid?;
    private _currentEvents?;
    private _activeOperations?;
    private _startTime?;
    private _lastEventTime?;
    private _options;
    constructor(eventsObservable: Observable, options?: ActivityWindowTrackerOptions);
    private _initialize;
    startTracking(): void;
    stopTracking(): void;
    private _scheduleInactivityCheck;
    private _startDrainTimeout;
    private hasActiveOperations;
    private _clearTimer;
}
export {};
